class Item{constructor(e){this.name=e.children()[0],this.price=e.children()[1],this.quantity=e.children()[2],this.id=e.children()[3]}}var moneyText,messageText,changeText,inputField,data=new Array,change=[0,0,0,0];function Initialize(){function e(e){let n=new Item($("#"+e));data[e]=n,data.push(n)}e("snickers"),e("mms"),e("almondjoy"),e("milkyway"),e("payday"),e("reeses"),e("pringles"),e("cheezits"),e("doritos"),moneyText=$("#totalText")[0],messageText=$("#messageText")[0],changeText=$("#changeText")[0],inputField=$("#itemInput"),$("#purchaseButton").click(Purchase),$("#changeButton").click(ReturnChange),UpdateQuantities()}function UpdateQuantities(){$.ajax({type:"GET",url:"http://localhost:8080/items",success:function(e){for(let n=0;n<e.length;n++)data[n].quantity.innerText="Quantity Left: "+e[n].quantity},error:function(){messageText.innerText="{ Error connecting to API }"}})}function AddMoney(e){let n=parseFloat(moneyText.innerText.slice(1));moneyText.innerText=`$${(n+e).toFixed(2)}`}function Purchase(){let e=parseInt(inputField.val());if(NaN==e)return void inputField.val("");if(null==data[e-1])return void inputField.val("");let n=parseFloat(moneyText.innerText.slice(1));$.ajax({type:"GET",url:`http://localhost:8080/money/${n}/item/${e}`,success:function(e){moneyText.innerText="$0.00",change[0]+=e.quarters,change[1]+=e.dimes,change[2]+=e.nickels,change[3]+=e.pennies;let n="{ ";change[0]>0&&(n+=`Quarters: ${change[0]} `),change[1]>0&&(n+=`Dimes: ${change[1]} `),change[2]>0&&(n+=`Nickels: ${change[2]} `),change[3]>0&&(n+=`Pennies: ${change[3]} `),n+="}",messageText.innerText="{ }",changeText.innerText=n,UpdateQuantities()},error:function(){messageText.innerText="{ Error connecting to API }"}})}function ReturnChange(){let e=0;e+=.25*change[0],e+=.1*change[1],e+=.05*change[2],AddMoney(e+=.01*change[3]),changeText.innerText="{ }",change=[0,0,0,0]}$(document).ready(Initialize);